import{a as F}from"./chunk-QKDI23JP.js";import{c as S}from"./chunk-TN6UFEA4.js";import{a as H,b as $,c as J}from"./chunk-OY7DPJBY.js";import{a as R,b as V,c as U,f as z}from"./chunk-U5M53PCF.js";import"./chunk-5CVOOD2D.js";import{a as W,b as X,c as Y,f as Z,g as ee}from"./chunk-DV6UHA42.js";import{B as k,C as B,E as N,G as T,H as j,I as q,J as D,K as G,L as A,M as K,N as Q,v as E,w as L,y as O,z as c}from"./chunk-KLUHJT3J.js";import{Aa as r,Ea as s,Ka as M,Oc as y,Pc as I,Qa as p,Va as h,Wa as a,_b as v,bd as P,dc as C,dd as w,eb as i,ed as x,fb as n,gb as u,mb as g,yb as m,zb as b}from"./chunk-XYR4GEIX.js";function ie(t,o){t&1&&(i(0,"mat-error"),m(1," Usu\xE1rio \xE9 obrigat\xF3rio "),n())}function ne(t,o){t&1&&(i(0,"mat-error"),m(1," Senha \xE9 obrigat\xF3ria "),n())}function re(t,o){t&1&&(i(0,"mat-error"),m(1," Senha deve ter no m\xEDnimo 6 caracteres "),n())}function oe(t,o){t&1&&(i(0,"span"),m(1,"Entrar"),n())}function ae(t,o){t&1&&u(0,"mat-spinner",11)}var te=class t{constructor(o,l,e,d){this.authService=o;this.router=l;this.fb=e;this.snackBar=d}loginForm;isLoading=!1;hidePassword=!0;ngOnInit(){this.loginForm=this.fb.group({username:["johnd",[c.required]],password:["m38rmF$",[c.required,c.minLength(6)]]})}login(){if(this.loginForm.invalid)return;this.isLoading=!0;let{username:o,password:l}=this.loginForm.value;this.authService.login({username:o,password:l}).subscribe({next:()=>{this.isLoading=!1,this.router.navigate(["/"])},error:()=>{this.isLoading=!1,this.snackBar.open("Credenciais inv\xE1lidas","Fechar",{duration:5e3,panelClass:"error-snackbar"})}})}static \u0275fac=function(l){return new(l||t)(s(F),s(S),s(D),s(E))};static \u0275cmp=M({type:t,selectors:[["app-login"]],decls:25,vars:11,consts:[[1,"login-container"],[1,"login-card"],[1,"login-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","username","required","","autocomplete","username"],[4,"ngIf"],["matInput","","formControlName","password","required","","autocomplete","current-password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"button-container"],["mat-raised-button","","color","primary","type","submit",1,"login-button",3,"disabled"],["diameter","24",4,"ngIf"],["diameter","24"]],template:function(l,e){if(l&1&&(i(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),m(4,"Login"),n()(),i(5,"mat-card-content")(6,"form",2),g("ngSubmit",function(){return e.login()}),i(7,"mat-form-field",3)(8,"mat-label"),m(9,"Usu\xE1rio"),n(),u(10,"input",4),p(11,ie,2,0,"mat-error",5),n(),i(12,"mat-form-field",3)(13,"mat-label"),m(14,"Senha"),n(),u(15,"input",6),i(16,"button",7),g("click",function(){return e.hidePassword=!e.hidePassword}),i(17,"mat-icon"),m(18),n()(),p(19,ne,2,0,"mat-error",5)(20,re,2,0,"mat-error",5),n(),i(21,"div",8)(22,"button",9),p(23,oe,2,0,"span",5)(24,ae,1,0,"mat-spinner",10),n()()()()()()),l&2){let d,f,_;r(6),a("formGroup",e.loginForm),r(5),a("ngIf",(d=e.loginForm.get("username"))==null?null:d.hasError("required")),r(4),a("type",e.hidePassword?"password":"text"),r(),h("aria-label","Alternar visibilidade da senha")("aria-pressed",e.hidePassword),r(2),b(e.hidePassword?"visibility_off":"visibility"),r(),a("ngIf",(f=e.loginForm.get("password"))==null?null:f.hasError("required")),r(),a("ngIf",(_=e.loginForm.get("password"))==null?null:_.hasError("minlength")),r(2),a("disabled",e.loginForm.invalid||e.isLoading),r(),a("ngIf",!e.isLoading),r(),a("ngIf",e.isLoading)}},dependencies:[C,v,A,N,O,k,B,q,T,j,G,J,$,z,R,V,U,H,x,w,P,ee,W,Y,Z,X,I,y,Q,K,L],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:80vh;padding:2rem}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;box-shadow:0 4px 20px #0000001a;border-radius:8px;overflow:hidden}.login-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:16px}.login-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{margin-bottom:0;font-weight:500;font-size:1.25rem}.login-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:24px 16px}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.full-width[_ngcontent-%COMP%]{width:100%}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:1rem}.login-button[_ngcontent-%COMP%]{min-width:120px;display:flex;justify-content:center;align-items:center}.login-button[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-right:8px}  .error-snackbar{background-color:#f44336;color:#fff}  .error-snackbar .mat-button{color:#fff}"]})};export{te as LoginComponent};
